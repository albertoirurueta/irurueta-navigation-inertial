<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BodyKinematicsFixer.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">com.irurueta:irurueta-navigation-inertial</a> &gt; <a href="index.source.html" class="el_package">com.irurueta.navigation.inertial.calibration</a> &gt; <span class="el_source">BodyKinematicsFixer.java</span></div><h1>BodyKinematicsFixer.java</h1><pre class="source lang-java linenums">/*
 * Copyright (C) 2021 Alberto Irurueta Carro (alberto@irurueta.com)
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package com.irurueta.navigation.inertial.calibration;

import com.irurueta.algebra.AlgebraException;
import com.irurueta.algebra.Matrix;
import com.irurueta.navigation.inertial.BodyKinematics;
import com.irurueta.units.Acceleration;
import com.irurueta.units.AngularSpeed;

/**
 * Fixes body kinematics (acceleration + angular rate) values taking into
 * account provided biases, cross coupling errors and G-dependent errors.
 */
<span class="fc" id="L28">public class BodyKinematicsFixer {</span>

    /**
     * Fixes specific force (acceleration) components of body kinematics measurements.
     */
<span class="fc" id="L33">    private final AccelerationFixer accelerationFixer = new AccelerationFixer();</span>

    /**
     * Fixes angular rate components of body kinematics measurements.
     */
<span class="fc" id="L38">    private final AngularRateFixer angularRateFixer = new AngularRateFixer();</span>

    /**
     * Contains measured acceleration to be reused.
     */
<span class="fc" id="L43">    private final AccelerationTriad measuredAcceleration = new AccelerationTriad();</span>

    /**
     * Contains measured angular speed to be reused.
     */
<span class="fc" id="L48">    private final AngularSpeedTriad measuredAngularSpeed = new AngularSpeedTriad();</span>

    /**
     * Contains fixed acceleration to be reused.
     */
<span class="fc" id="L53">    private final AccelerationTriad fixedAcceleration = new AccelerationTriad();</span>

    /**
     * Contains fixed angular speed to be reused.
     */
<span class="fc" id="L58">    private final AngularSpeedTriad fixedAngularSpeed = new AngularSpeedTriad();</span>

    /**
     * Gets acceleration bias values expressed in meters per squared second (m/s^2).
     *
     * @return bias values expressed in meters per squared second.
     */
    public Matrix getAccelerationBias() {
<span class="fc" id="L66">        return accelerationFixer.getBias();</span>
    }

    /**
     * Gets acceleration bias values expressed in meters per squared second (m/s^2).
     *
     * @param result instance where result will be stored.
     */
    public void getAccelerationBias(final Matrix result) {
<span class="fc" id="L75">        accelerationFixer.getBias(result);</span>
<span class="fc" id="L76">    }</span>

    /**
     * Sets acceleration bias values expressed in meters per squared second (m/s^2).
     *
     * @param bias bias values expressed in meters per squared second.
     *             Must be 3x1.
     * @throws IllegalArgumentException if provided matrix is not 3x1.
     */
    public void setAccelerationBias(final Matrix bias) {
<span class="fc" id="L86">        accelerationFixer.setBias(bias);</span>
<span class="fc" id="L87">    }</span>

    /**
     * Gets acceleration bias values expressed in meters per squared second (m/s^2).
     *
     * @return bias values expressed in meters per squared second.
     */
    public double[] getAccelerationBiasArray() {
<span class="fc" id="L95">        return accelerationFixer.getBiasArray();</span>
    }

    /**
     * Gets acceleration bias values expressed in meters per squared second (m/s^2).
     *
     * @param result instance where result data will be stored.
     * @throws IllegalArgumentException if provided array does not have length 3.
     */
    public void getAccelerationBiasArray(final double[] result) {
<span class="fc" id="L105">        accelerationFixer.getBiasArray(result);</span>
<span class="fc" id="L106">    }</span>

    /**
     * Sets acceleration bias values expressed in meters per squared second (m/s^2).
     *
     * @param bias bias values expressed in meters per squared second (m/s^2).
     *             Must have length 3.
     * @throws IllegalArgumentException if provided array does not have length 3.
     */
    public void setAccelerationBias(final double[] bias) {
<span class="fc" id="L116">        accelerationFixer.setBias(bias);</span>
<span class="fc" id="L117">    }</span>

    /**
     * Gets acceleration bias.
     *
     * @return acceleration bias.
     */
    public AccelerationTriad getAccelerationBiasAsTriad() {
<span class="fc" id="L125">        return accelerationFixer.getBiasAsTriad();</span>
    }

    /**
     * Gets acceleration bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAccelerationBiasAsTriad(final AccelerationTriad result) {
<span class="fc" id="L134">        accelerationFixer.getBiasAsTriad(result);</span>
<span class="fc" id="L135">    }</span>

    /**
     * Sets acceleration bias.
     *
     * @param bias acceleration bias to be set.
     */
    public void setAccelerationBias(final AccelerationTriad bias) {
<span class="fc" id="L143">        accelerationFixer.setBias(bias);</span>
<span class="fc" id="L144">    }</span>

    /**
     * Gets acceleration x-coordinate of bias expressed in meters per squared
     * second (m/s^2).
     *
     * @return x-coordinate of bias expressed in meters per squared second (m/s^2).
     */
    public double getAccelerationBiasX() {
<span class="fc" id="L153">        return accelerationFixer.getBiasX();</span>
    }

    /**
     * Sets acceleration x-coordinate of bias expressed in meters per squared
     * second (m/s^2).
     *
     * @param biasX x-coordinate of bias expressed in meters per squared second
     *              (m/s^2).
     */
    public void setAccelerationBiasX(final double biasX) {
<span class="fc" id="L164">        accelerationFixer.setBiasX(biasX);</span>
<span class="fc" id="L165">    }</span>

    /**
     * Gets acceleration y-coordinate of bias expressed in meters per squared
     * second (m/s^2).
     *
     * @return y-coordinate of bias expressed in meters per squared second (m/s^2).
     */
    public double getAccelerationBiasY() {
<span class="fc" id="L174">        return accelerationFixer.getBiasY();</span>
    }

    /**
     * Sets acceleration y-coordinate of bias expressed in meters per squared
     * second (m/s^2).
     *
     * @param biasY y-coordinate of bias expressed in meters per squared second
     *              (m/s^2).
     */
    public void setAccelerationBiasY(final double biasY) {
<span class="fc" id="L185">        accelerationFixer.setBiasY(biasY);</span>
<span class="fc" id="L186">    }</span>

    /**
     * Gets acceleration z-coordinate of bias expressed in meters per squared
     * second (m/s^2).
     *
     * @return z-coordinate of bias expressed in meters per squared second (m/s^2).
     */
    public double getAccelerationBiasZ() {
<span class="fc" id="L195">        return accelerationFixer.getBiasZ();</span>
    }

    /**
     * Sets acceleration z-coordinate of bias expressed in meters per squared
     * second (m/s^2).
     *
     * @param biasZ z-coordinate of bias expressed in meters per squared second (m/s^2).
     */
    public void setAccelerationBiasZ(final double biasZ) {
<span class="fc" id="L205">        accelerationFixer.setBiasZ(biasZ);</span>
<span class="fc" id="L206">    }</span>

    /**
     * Sets acceleration coordinates of bias expressed in meters per squared
     * second (m/s^2).
     *
     * @param biasX x-coordinate of bias.
     * @param biasY y-coordinate of bias.
     * @param biasZ z-coordinate of bias.
     */
    public void setAccelerationBias(final double biasX, final double biasY, final double biasZ) {
<span class="fc" id="L217">        accelerationFixer.setBias(biasX, biasY, biasZ);</span>
<span class="fc" id="L218">    }</span>

    /**
     * Gets acceleration x-coordinate of bias.
     *
     * @return acceleration x-coordinate of bias.
     */
    public Acceleration getAccelerationBiasXAsAcceleration() {
<span class="fc" id="L226">        return accelerationFixer.getBiasXAsAcceleration();</span>
    }

    /**
     * Gets acceleration x-coordinate of bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAccelerationBiasXAsAcceleration(final Acceleration result) {
<span class="fc" id="L235">        accelerationFixer.getBiasXAsAcceleration(result);</span>
<span class="fc" id="L236">    }</span>

    /**
     * Sets acceleration x-coordinate of bias.
     *
     * @param biasX acceleration x-coordinate of bias.
     */
    public void setAccelerationBiasX(final Acceleration biasX) {
<span class="fc" id="L244">        accelerationFixer.setBiasX(biasX);</span>
<span class="fc" id="L245">    }</span>

    /**
     * Gets acceleration y-coordinate of bias.
     *
     * @return acceleration y-coordinate of bias.
     */
    public Acceleration getAccelerationBiasYAsAcceleration() {
<span class="fc" id="L253">        return accelerationFixer.getBiasYAsAcceleration();</span>
    }

    /**
     * Gets acceleration y-coordinate of bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAccelerationBiasYAsAcceleration(final Acceleration result) {
<span class="fc" id="L262">        accelerationFixer.getBiasYAsAcceleration(result);</span>
<span class="fc" id="L263">    }</span>

    /**
     * Sets acceleration y-coordinate of bias.
     *
     * @param biasY acceleration y-coordinate of bias.
     */
    public void setAccelerationBiasY(final Acceleration biasY) {
<span class="fc" id="L271">        accelerationFixer.setBiasY(biasY);</span>
<span class="fc" id="L272">    }</span>

    /**
     * Gets acceleration z-coordinate of bias.
     *
     * @return acceleration z-coordinate of bias.
     */
    public Acceleration getAccelerationBiasZAsAcceleration() {
<span class="fc" id="L280">        return accelerationFixer.getBiasZAsAcceleration();</span>
    }

    /**
     * Gets acceleration z-coordinate of bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAccelerationBiasZAsAcceleration(final Acceleration result) {
<span class="fc" id="L289">        accelerationFixer.getBiasZAsAcceleration(result);</span>
<span class="fc" id="L290">    }</span>

    /**
     * Sets acceleration z-coordinate of bias.
     *
     * @param biasZ z-coordinate of bias.
     */
    public void setAccelerationBiasZ(final Acceleration biasZ) {
<span class="fc" id="L298">        accelerationFixer.setBiasZ(biasZ);</span>
<span class="fc" id="L299">    }</span>

    /**
     * Sets acceleration coordinates of bias.
     *
     * @param biasX x-coordinate of bias.
     * @param biasY y-coordinate of bias.
     * @param biasZ z-coordinate of bias.
     */
    public void setAccelerationBias(final Acceleration biasX, final Acceleration biasY, final Acceleration biasZ) {
<span class="fc" id="L309">        accelerationFixer.setBias(biasX, biasY, biasZ);</span>
<span class="fc" id="L310">    }</span>

    /**
     * Gets acceleration cross coupling errors matrix.
     *
     * @return acceleration cross coupling errors matrix.
     */
    public Matrix getAccelerationCrossCouplingErrors() {
<span class="fc" id="L318">        return accelerationFixer.getCrossCouplingErrors();</span>
    }

    /**
     * Gets acceleration cross coupling errors matrix.
     *
     * @param result instance where result will be stored.
     */
    public void getAccelerationCrossCouplingErrors(final Matrix result) {
<span class="fc" id="L327">        accelerationFixer.getCrossCouplingErrors(result);</span>
<span class="fc" id="L328">    }</span>

    /**
     * Sets acceleration cross coupling errors matrix.
     *
     * @param crossCouplingErrors acceleration cross coupling errors matrix.
     *                            Must be 3x3.
     * @throws AlgebraException         if provided matrix cannot be inverted.
     * @throws IllegalArgumentException if provided matrix is not 3x3.
     */
    public void setAccelerationCrossCouplingErrors(final Matrix crossCouplingErrors) throws AlgebraException {
<span class="fc" id="L339">        accelerationFixer.setCrossCouplingErrors(crossCouplingErrors);</span>
<span class="fc" id="L340">    }</span>

    /**
     * Gets acceleration x scaling factor.
     *
     * @return x scaling factor.
     */
    public double getAccelerationSx() {
<span class="fc" id="L348">        return accelerationFixer.getSx();</span>
    }

    /**
     * Sets acceleration x scaling factor.
     *
     * @param sx x scaling factor.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationSx(final double sx) throws AlgebraException {
<span class="fc" id="L359">        accelerationFixer.setSx(sx);</span>
<span class="fc" id="L360">    }</span>

    /**
     * Gets acceleration y scaling factor.
     *
     * @return y scaling factor.
     */
    public double getAccelerationSy() {
<span class="fc" id="L368">        return accelerationFixer.getSy();</span>
    }

    /**
     * Sets acceleration y scaling factor.
     *
     * @param sy y scaling factor.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationSy(final double sy) throws AlgebraException {
<span class="fc" id="L379">        accelerationFixer.setSy(sy);</span>
<span class="fc" id="L380">    }</span>

    /**
     * Gets acceleration z scaling factor.
     *
     * @return z scaling factor.
     */
    public double getAccelerationSz() {
<span class="fc" id="L388">        return accelerationFixer.getSz();</span>
    }

    /**
     * Sets acceleration z scaling factor.
     *
     * @param sz z scaling factor.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationSz(final double sz) throws AlgebraException {
<span class="fc" id="L399">        accelerationFixer.setSz(sz);</span>
<span class="fc" id="L400">    }</span>

    /**
     * Gets acceleration x-y cross coupling error.
     *
     * @return acceleration x-y cross coupling error.
     */
    public double getAccelerationMxy() {
<span class="fc" id="L408">        return accelerationFixer.getMxy();</span>
    }

    /**
     * Sets acceleration x-y cross coupling error.
     *
     * @param mxy acceleration x-y cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationMxy(final double mxy) throws AlgebraException {
<span class="fc" id="L419">        accelerationFixer.setMxy(mxy);</span>
<span class="fc" id="L420">    }</span>

    /**
     * Gets acceleration x-z cross coupling error.
     *
     * @return acceleration x-z cross coupling error.
     */
    public double getAccelerationMxz() {
<span class="fc" id="L428">        return accelerationFixer.getMxz();</span>
    }

    /**
     * Sets acceleration x-z cross coupling error.
     *
     * @param mxz acceleration x-z cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationMxz(final double mxz) throws AlgebraException {
<span class="fc" id="L439">        accelerationFixer.setMxz(mxz);</span>
<span class="fc" id="L440">    }</span>

    /**
     * Gets acceleration y-x cross coupling error.
     *
     * @return acceleration y-x cross coupling error.
     */
    public double getAccelerationMyx() {
<span class="fc" id="L448">        return accelerationFixer.getMyx();</span>
    }

    /**
     * Sets acceleration y-x cross coupling error.
     *
     * @param myx acceleration y-x cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationMyx(final double myx) throws AlgebraException {
<span class="fc" id="L459">        accelerationFixer.setMyx(myx);</span>
<span class="fc" id="L460">    }</span>

    /**
     * Gets acceleration y-z cross coupling error.
     *
     * @return y-z cross coupling error.
     */
    public double getAccelerationMyz() {
<span class="fc" id="L468">        return accelerationFixer.getMyz();</span>
    }

    /**
     * Sets acceleration y-z cross coupling error.
     *
     * @param myz y-z cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationMyz(final double myz) throws AlgebraException {
<span class="fc" id="L479">        accelerationFixer.setMyz(myz);</span>
<span class="fc" id="L480">    }</span>

    /**
     * Gets acceleration z-x cross coupling error.
     *
     * @return acceleration z-x cross coupling error.
     */
    public double getAccelerationMzx() {
<span class="fc" id="L488">        return accelerationFixer.getMzx();</span>
    }

    /**
     * Sets acceleration z-x cross coupling error.
     *
     * @param mzx acceleration z-x cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationMzx(final double mzx) throws AlgebraException {
<span class="fc" id="L499">        accelerationFixer.setMzx(mzx);</span>
<span class="fc" id="L500">    }</span>

    /**
     * Gets acceleration z-y cross coupling error.
     *
     * @return acceleration z-y cross coupling error.
     */
    public double getAccelerationMzy() {
<span class="fc" id="L508">        return accelerationFixer.getMzy();</span>
    }

    /**
     * Sets acceleration z-y cross coupling error.
     *
     * @param mzy acceleration z-y cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationMzy(final double mzy) throws AlgebraException {
<span class="fc" id="L519">        accelerationFixer.setMzy(mzy);</span>
<span class="fc" id="L520">    }</span>

    /**
     * Sets acceleration scaling factors.
     *
     * @param sx x scaling factor.
     * @param sy y scaling factor.
     * @param sz z scaling factor.
     * @throws AlgebraException if provided values make cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationScalingFactors(final double sx, final double sy, final double sz)
            throws AlgebraException {
<span class="fc" id="L533">        accelerationFixer.setScalingFactors(sx, sy, sz);</span>
<span class="fc" id="L534">    }</span>

    /**
     * Sets acceleration cross coupling errors.
     *
     * @param mxy x-y cross coupling error.
     * @param mxz x-z cross coupling error.
     * @param myx y-x cross coupling error.
     * @param myz y-z cross coupling error.
     * @param mzx z-x cross coupling error.
     * @param mzy z-y cross coupling error.
     * @throws AlgebraException if provided values make cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationCrossCouplingErrors(
            final double mxy, final double mxz, final double myx,
            final double myz, final double mzx, final double mzy) throws AlgebraException {
<span class="fc" id="L551">        accelerationFixer.setCrossCouplingErrors(mxy, mxz, myx, myz, mzx, mzy);</span>
<span class="fc" id="L552">    }</span>

    /**
     * Sets acceleration scaling factors and cross coupling errors.
     *
     * @param sx  x scaling factor.
     * @param sy  y scaling factor.
     * @param sz  z scaling factor.
     * @param mxy x-y cross coupling error.
     * @param mxz x-z cross coupling error.
     * @param myx y-x cross coupling error.
     * @param myz y-z cross coupling error.
     * @param mzx z-x cross coupling error.
     * @param mzy z-y cross coupling error.
     * @throws AlgebraException if provided values make cross coupling matrix
     *                          non-invertible.
     */
    public void setAccelerationScalingFactorsAndCrossCouplingErrors(
            final double sx, final double sy, final double sz,
            final double mxy, final double mxz, final double myx,
            final double myz, final double mzx, final double mzy) throws AlgebraException {
<span class="fc" id="L573">        accelerationFixer.setScalingFactorsAndCrossCouplingErrors(sx, sy, sz, mxy, mxz, myx, myz, mzx, mzy);</span>
<span class="fc" id="L574">    }</span>

    /**
     * Gets angular speed bias values expressed in radians per second (rad/s).
     *
     * @return angular speed bias values expressed in radians per second.
     */
    public Matrix getAngularSpeedBias() {
<span class="fc" id="L582">        return angularRateFixer.getBias();</span>
    }

    /**
     * Gets angular speed bias values expressed in radians per second (rad/s).
     *
     * @param result instance where result will be stored.
     */
    public void getAngularSpeedBias(final Matrix result) {
<span class="fc" id="L591">        angularRateFixer.getBias(result);</span>
<span class="fc" id="L592">    }</span>

    /**
     * Sets angular speed bias values expressed in radians per second (rad/s).
     *
     * @param bias bias values expressed in radians per second. Must be 3x1.
     * @throws IllegalArgumentException if provided matrix is not 3x1.
     */
    public void setAngularSpeedBias(final Matrix bias) {
<span class="fc" id="L601">        angularRateFixer.setBias(bias);</span>
<span class="fc" id="L602">    }</span>

    /**
     * Gets angular speed bias values expressed in radians per second (rad/s).
     *
     * @return bias values expressed in radians per second.
     */
    public double[] getAngularSpeedBiasArray() {
<span class="fc" id="L610">        return angularRateFixer.getBiasArray();</span>
    }

    /**
     * Gets angular speed bias values expressed in radians per second (rad/s).
     *
     * @param result instance where result data will be stored.
     * @throws IllegalArgumentException if provided array does not have length 3.
     */
    public void getAngularSpeedBiasArray(final double[] result) {
<span class="fc" id="L620">        angularRateFixer.getBiasArray(result);</span>
<span class="fc" id="L621">    }</span>

    /**
     * Sets angular speed bias values expressed in radians per second (rad/s).
     *
     * @param bias bias values expressed in radians per second (rad/s). Must
     *             have length 3.
     * @throws IllegalArgumentException if provided array does not have length 3.
     */
    public void setAngularSpeedBias(final double[] bias) {
<span class="fc" id="L631">        angularRateFixer.setBias(bias);</span>
<span class="fc" id="L632">    }</span>

    /**
     * Gets angular speed bias.
     *
     * @return angular speed bias.
     */
    public AngularSpeedTriad getAngularSpeedBiasAsTriad() {
<span class="fc" id="L640">        return angularRateFixer.getBiasAsTriad();</span>
    }

    /**
     * Gets angular speed bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAngularSpeedBiasAsTriad(final AngularSpeedTriad result) {
<span class="fc" id="L649">        angularRateFixer.getBiasAsTriad(result);</span>
<span class="fc" id="L650">    }</span>

    /**
     * Sets angular speed bias.
     *
     * @param bias angular speed bias to be set.
     */
    public void setAngularSpeedBias(final AngularSpeedTriad bias) {
<span class="fc" id="L658">        angularRateFixer.setBias(bias);</span>
<span class="fc" id="L659">    }</span>

    /**
     * Gets angular speed x-coordinate of bias expressed in radians per second
     * (rad/s).
     *
     * @return x-coordinate of bias expressed in radians per second (rad/s).
     */
    public double getAngularSpeedBiasX() {
<span class="fc" id="L668">        return angularRateFixer.getBiasX();</span>
    }

    /**
     * Sets angular speed x-coordinate of bias expressed in radians per second
     * (rad/s).
     *
     * @param biasX x-coordinate of bias expressed in radians per second (rad/s).
     */
    public void setAngularSpeedBiasX(final double biasX) {
<span class="fc" id="L678">        angularRateFixer.setBiasX(biasX);</span>
<span class="fc" id="L679">    }</span>

    /**
     * Gets angular speed y-coordinate of bias expressed in radians per second
     * (rad/s).
     *
     * @return y-coordinate of bias expressed in radians per second (rad/s).
     */
    public double getAngularSpeedBiasY() {
<span class="fc" id="L688">        return angularRateFixer.getBiasY();</span>
    }

    /**
     * Sets angular speed y-coordinate of bias expressed in radians per second
     * (rad/s).
     *
     * @param biasY y-coordinate of bias expressed in radians per second (rad/s).
     */
    public void setAngularSpeedBiasY(final double biasY) {
<span class="fc" id="L698">        angularRateFixer.setBiasY(biasY);</span>
<span class="fc" id="L699">    }</span>

    /**
     * Gets angular speed z-coordinate of bias expressed in radians per second
     * (rad/s).
     *
     * @return z-coordinate of bias expressed in radians per second (rad/s).
     */
    public double getAngularSpeedBiasZ() {
<span class="fc" id="L708">        return angularRateFixer.getBiasZ();</span>
    }

    /**
     * Sets angular speed z-coordinate of bias expressed in radians per second
     * (rad/s).
     *
     * @param biasZ z-coordinate of bias expressed in radians per second (rad/s).
     */
    public void setAngularSpeedBiasZ(final double biasZ) {
<span class="fc" id="L718">        angularRateFixer.setBiasZ(biasZ);</span>
<span class="fc" id="L719">    }</span>

    /**
     * Sets angular speed coordinates of bias expressed in radians per second
     * (rad/s).
     *
     * @param biasX x-coordinate of bias.
     * @param biasY y-coordinate of bias.
     * @param biasZ z-coordinate of bias.
     */
    public void setAngularSpeedBias(final double biasX, final double biasY, final double biasZ) {
<span class="fc" id="L730">        angularRateFixer.setBias(biasX, biasY, biasZ);</span>
<span class="fc" id="L731">    }</span>

    /**
     * Gets angular speed x-coordinate of bias.
     *
     * @return x-coordinate of bias.
     */
    public AngularSpeed getAngularSpeedBiasXAsAngularSpeed() {
<span class="fc" id="L739">        return angularRateFixer.getBiasXAsAngularSpeed();</span>
    }

    /**
     * Gets angular speed x-coordinate of bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAngularSpeedBiasXAsAngularSpeed(final AngularSpeed result) {
<span class="fc" id="L748">        angularRateFixer.getBiasXAsAngularSpeed(result);</span>
<span class="fc" id="L749">    }</span>

    /**
     * Sets angular speed x-coordinate of bias.
     *
     * @param biasX x-coordinate of bias.
     */
    public void setAngularSpeedBiasX(final AngularSpeed biasX) {
<span class="fc" id="L757">        angularRateFixer.setBiasX(biasX);</span>
<span class="fc" id="L758">    }</span>

    /**
     * Gets angular speed y-coordinate of bias.
     *
     * @return y-coordinate of bias.
     */
    public AngularSpeed getAngularSpeedBiasYAsAngularSpeed() {
<span class="fc" id="L766">        return angularRateFixer.getBiasYAsAngularSpeed();</span>
    }

    /**
     * Gets angular speed y-coordinate of bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAngularSpeedBiasYAsAngularSpeed(final AngularSpeed result) {
<span class="fc" id="L775">        angularRateFixer.getBiasYAsAngularSpeed(result);</span>
<span class="fc" id="L776">    }</span>

    /**
     * Sets angular speed y-coordinate of bias.
     *
     * @param biasY y-coordinate of bias.
     */
    public void setAngularSpeedBiasY(final AngularSpeed biasY) {
<span class="fc" id="L784">        angularRateFixer.setBiasY(biasY);</span>
<span class="fc" id="L785">    }</span>

    /**
     * Gets angular speed z-coordinate of bias.
     *
     * @return z-coordinate of bias.
     */
    public AngularSpeed getAngularSpeedBiasZAsAngularSpeed() {
<span class="fc" id="L793">        return angularRateFixer.getBiasZAsAngularSpeed();</span>
    }

    /**
     * Gets angular speed z-coordinate of bias.
     *
     * @param result instance where result will be stored.
     */
    public void getAngularSpeedBiasZAsAngularSpeed(final AngularSpeed result) {
<span class="fc" id="L802">        angularRateFixer.getBiasZAsAngularSpeed(result);</span>
<span class="fc" id="L803">    }</span>

    /**
     * Sets angular speed z-coordinate of bias.
     *
     * @param biasZ z-coordinate of bias.
     */
    public void setAngularSpeedBiasZ(final AngularSpeed biasZ) {
<span class="fc" id="L811">        angularRateFixer.setBiasZ(biasZ);</span>
<span class="fc" id="L812">    }</span>

    /**
     * Sets angular speed coordinates of bias.
     *
     * @param biasX x-coordinate of bias.
     * @param biasY y-coordinate of bias.
     * @param biasZ z-coordinate of bias.
     */
    public void setAngularSpeedBias(final AngularSpeed biasX, final AngularSpeed biasY, final AngularSpeed biasZ) {
<span class="fc" id="L822">        angularRateFixer.setBias(biasX, biasY, biasZ);</span>
<span class="fc" id="L823">    }</span>

    /**
     * Gets angular speed cross coupling errors matrix.
     *
     * @return cross coupling errors matrix.
     */
    public Matrix getAngularSpeedCrossCouplingErrors() {
<span class="fc" id="L831">        return angularRateFixer.getCrossCouplingErrors();</span>
    }

    /**
     * Gets angular speed cross coupling errors matrix.
     *
     * @param result instance where result will be stored.
     */
    public void getAngularSpeedCrossCouplingErrors(final Matrix result) {
<span class="fc" id="L840">        angularRateFixer.getCrossCouplingErrors(result);</span>
<span class="fc" id="L841">    }</span>

    /**
     * Sets angular speed cross coupling errors matrix.
     *
     * @param crossCouplingErrors cross coupling errors matrix. Must be 3x3.
     * @throws AlgebraException         if provided matrix cannot be inverted.
     * @throws IllegalArgumentException if provided matrix is not 3x3.
     */
    public void setAngularSpeedCrossCouplingErrors(final Matrix crossCouplingErrors) throws AlgebraException {
<span class="fc" id="L851">        angularRateFixer.setCrossCouplingErrors(crossCouplingErrors);</span>
<span class="fc" id="L852">    }</span>

    /**
     * Gets angular speed x scaling factor.
     *
     * @return x scaling factor.
     */
    public double getAngularSpeedSx() {
<span class="fc" id="L860">        return angularRateFixer.getSx();</span>
    }

    /**
     * sets angular speed x scaling factor.
     *
     * @param sx x scaling factor.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedSx(final double sx) throws AlgebraException {
<span class="fc" id="L871">        angularRateFixer.setSx(sx);</span>
<span class="fc" id="L872">    }</span>

    /**
     * Gets angular speed y scaling factor.
     *
     * @return y scaling factor.
     */
    public double getAngularSpeedSy() {
<span class="fc" id="L880">        return angularRateFixer.getSy();</span>
    }

    /**
     * Sets angular speed y scaling factor.
     *
     * @param sy y scaling factor.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedSy(final double sy) throws AlgebraException {
<span class="fc" id="L891">        angularRateFixer.setSy(sy);</span>
<span class="fc" id="L892">    }</span>

    /**
     * Gets angular speed z scaling factor.
     *
     * @return z scaling factor.
     */
    public double getAngularSpeedSz() {
<span class="fc" id="L900">        return angularRateFixer.getSz();</span>
    }

    /**
     * Sets angular speed z scaling factor.
     *
     * @param sz z scaling factor.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedSz(final double sz) throws AlgebraException {
<span class="fc" id="L911">        angularRateFixer.setSz(sz);</span>
<span class="fc" id="L912">    }</span>

    /**
     * Gets angular speed x-y cross coupling error.
     *
     * @return x-y cross coupling error.
     */
    public double getAngularSpeedMxy() {
<span class="fc" id="L920">        return angularRateFixer.getMxy();</span>
    }

    /**
     * Sets angular speed x-y cross coupling error.
     *
     * @param mxy x-y cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedMxy(final double mxy) throws AlgebraException {
<span class="fc" id="L931">        angularRateFixer.setMxy(mxy);</span>
<span class="fc" id="L932">    }</span>

    /**
     * Gets angular speed x-z cross coupling error.
     *
     * @return x-z cross coupling error.
     */
    public double getAngularSpeedMxz() {
<span class="fc" id="L940">        return angularRateFixer.getMxz();</span>
    }

    /**
     * Sets angular speed x-z cross coupling error.
     *
     * @param mxz x-z cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedMxz(final double mxz) throws AlgebraException {
<span class="fc" id="L951">        angularRateFixer.setMxz(mxz);</span>
<span class="fc" id="L952">    }</span>

    /**
     * Gets angular speed y-x cross coupling error.
     *
     * @return y-x cross coupling error.
     */
    public double getAngularSpeedMyx() {
<span class="fc" id="L960">        return angularRateFixer.getMyx();</span>
    }

    /**
     * Sets angular speed y-x cross coupling error.
     *
     * @param myx y-x cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedMyx(final double myx) throws AlgebraException {
<span class="fc" id="L971">        angularRateFixer.setMyx(myx);</span>
<span class="fc" id="L972">    }</span>

    /**
     * Gets angular speed y-z cross coupling error.
     *
     * @return y-z cross coupling error.
     */
    public double getAngularSpeedMyz() {
<span class="fc" id="L980">        return angularRateFixer.getMyz();</span>
    }

    /**
     * Sets angular speed y-z cross coupling error.
     *
     * @param myz y-z cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedMyz(final double myz) throws AlgebraException {
<span class="fc" id="L991">        angularRateFixer.setMyz(myz);</span>
<span class="fc" id="L992">    }</span>

    /**
     * Gets angular speed z-x cross coupling error.
     *
     * @return z-x cross coupling error.
     */
    public double getAngularSpeedMzx() {
<span class="fc" id="L1000">        return angularRateFixer.getMzx();</span>
    }

    /**
     * Sets angular speed z-x cross coupling error.
     *
     * @param mzx z-x cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedMzx(final double mzx) throws AlgebraException {
<span class="fc" id="L1011">        angularRateFixer.setMzx(mzx);</span>
<span class="fc" id="L1012">    }</span>

    /**
     * Gets angular speed z-y cross coupling error.
     *
     * @return z-y cross coupling error.
     */
    public double getAngularSpeedMzy() {
<span class="fc" id="L1020">        return angularRateFixer.getMzy();</span>
    }

    /**
     * Sets angular speed z-y cross coupling error.
     *
     * @param mzy z-y cross coupling error.
     * @throws AlgebraException if provided value makes cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedMzy(final double mzy) throws AlgebraException {
<span class="fc" id="L1031">        angularRateFixer.setMzy(mzy);</span>
<span class="fc" id="L1032">    }</span>

    /**
     * Sets angular speed scaling factors.
     *
     * @param sx x scaling factor.
     * @param sy y scaling factor.
     * @param sz z scaling factor.
     * @throws AlgebraException if provided values make cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedScalingFactors(final double sx, final double sy, final double sz)
            throws AlgebraException {
<span class="fc" id="L1045">        angularRateFixer.setScalingFactors(sx, sy, sz);</span>
<span class="fc" id="L1046">    }</span>

    /**
     * Sets angular speed cross coupling errors.
     *
     * @param mxy x-y cross coupling error.
     * @param mxz x-z cross coupling error.
     * @param myx y-x cross coupling error.
     * @param myz y-z cross coupling error.
     * @param mzx z-x cross coupling error.
     * @param mzy z-y cross coupling error.
     * @throws AlgebraException if provided values make cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedCrossCouplingErrors(
            final double mxy, final double mxz, final double myx,
            final double myz, final double mzx, final double mzy) throws AlgebraException {
<span class="fc" id="L1063">        angularRateFixer.setCrossCouplingErrors(mxy, mxz, myx, myz, mzx, mzy);</span>
<span class="fc" id="L1064">    }</span>

    /**
     * Sets angular speed scaling factors and cross coupling errors.
     *
     * @param sx  x scaling factor.
     * @param sy  y scaling factor.
     * @param sz  z scaling factor.
     * @param mxy x-y cross coupling error.
     * @param mxz x-z cross coupling error.
     * @param myx y-x cross coupling error.
     * @param myz y-z cross coupling error.
     * @param mzx z-x cross coupling error.
     * @param mzy z-y cross coupling error.
     * @throws AlgebraException if provided values make cross coupling matrix
     *                          non-invertible.
     */
    public void setAngularSpeedScalingFactorsAndCrossCouplingErrors(
            final double sx, final double sy, final double sz,
            final double mxy, final double mxz, final double myx,
            final double myz, final double mzx, final double mzy) throws AlgebraException {
<span class="fc" id="L1085">        angularRateFixer.setScalingFactorsAndCrossCouplingErrors(sx, sy, sz, mxy, mxz, myx, myz, mzx, mzy);</span>
<span class="fc" id="L1086">    }</span>

    /**
     * Gets angular speed g-dependant cross biases matrix.
     *
     * @return g-dependant cross biases matrix.
     */
    public Matrix getAngularSpeedGDependantCrossBias() {
<span class="fc" id="L1094">        return angularRateFixer.getGDependantCrossBias();</span>
    }

    /**
     * Gets angular speed g-dependant cross biases matrix.
     *
     * @param result instance where result will be stored.
     */
    public void getAngularSpeedGDependantCrossBias(final Matrix result) {
<span class="fc" id="L1103">        angularRateFixer.getGDependantCrossBias(result);</span>
<span class="fc" id="L1104">    }</span>

    /**
     * Sets angular speed g-dependant cross biases matrix.
     *
     * @param gDependantCrossBias g-dependant cross biases matrix.
     * @throws IllegalArgumentException if provided matrix is not 3x3.
     */
    public void setAngularSpeedGDependantCrossBias(final Matrix gDependantCrossBias) {
<span class="fc" id="L1113">        angularRateFixer.setGDependantCrossBias(gDependantCrossBias);</span>
<span class="fc" id="L1114">    }</span>

    /**
     * Fixes provided measured body kinematics by undoing the errors introduced
     * by the accelerometer and gyroscope models to restore the true body
     * kinematics values.
     * This method uses last provided accelerometer and gyroscope bias and
     * cross coupling errors.
     *
     * @param measuredKinematics measured body kinematics to be fixed.
     * @param result             instance where fixed body kinematics will be
     *                           stored.
     * @throws AlgebraException if there are numerical instabilities.
     */
    public void fix(final BodyKinematics measuredKinematics, final BodyKinematics result) throws AlgebraException {
<span class="fc" id="L1129">        measuredKinematics.getSpecificForceTriad(measuredAcceleration);</span>
<span class="fc" id="L1130">        measuredKinematics.getAngularRateTriad(measuredAngularSpeed);</span>

<span class="fc" id="L1132">        fix(measuredAcceleration, measuredAngularSpeed, fixedAcceleration, fixedAngularSpeed);</span>

<span class="fc" id="L1134">        result.setSpecificForceTriad(fixedAcceleration);</span>
<span class="fc" id="L1135">        result.setAngularRateTriad(fixedAngularSpeed);</span>
<span class="fc" id="L1136">    }</span>

    /**
     * Fixes provided measured body kinematics by undoing the errors introduced
     * by the accelerometer and gyroscope models to restore the true
     * body kinematics values.
     * This method uses last provided accelerometer and gyroscope bias and
     * cross coupling errors.
     *
     * @param measuredSpecificForce measured specific force to be fixed.
     * @param measuredAngularSpeed  measured angular speed to be fixed.
     * @param fixedSpecificForce    instance where fixed specific force will be
     *                              stored.
     * @param fixedAngularSpeed     instance where fixed angular speed will be
     *                              stored.
     * @throws AlgebraException if there are numerical instabilities.
     */
    public void fix(
            final AccelerationTriad measuredSpecificForce, final AngularSpeedTriad measuredAngularSpeed,
            final AccelerationTriad fixedSpecificForce, final AngularSpeedTriad fixedAngularSpeed)
            throws AlgebraException {

<span class="fc" id="L1158">        accelerationFixer.fix(measuredSpecificForce, fixedSpecificForce);</span>
<span class="fc" id="L1159">        angularRateFixer.fix(measuredAngularSpeed, fixedSpecificForce, fixedAngularSpeed);</span>
<span class="fc" id="L1160">    }</span>

    /**
     * Fixes provided measured body kinematics by undoing the errors introduced
     * by the accelerometer and gyroscope models to restore the true
     * body kinematics values.
     * This method uses last provided accelerometer and gyroscope bias and
     * cross coupling errors.
     *
     * @param measuredKinematics measured body kinematics to be fixed.
     * @param fixedSpecificForce instance where fixed specific force will be
     *                           stored.
     * @param fixedAngularSpeed  instance where fixed angular speed will be
     *                           stored.
     * @throws AlgebraException if there are numerical instabilities.
     */
    public void fix(final BodyKinematics measuredKinematics, final AccelerationTriad fixedSpecificForce,
                    final AngularSpeedTriad fixedAngularSpeed) throws AlgebraException {
<span class="fc" id="L1178">        measuredKinematics.getSpecificForceTriad(measuredAcceleration);</span>
<span class="fc" id="L1179">        measuredKinematics.getAngularRateTriad(measuredAngularSpeed);</span>

<span class="fc" id="L1181">        fix(measuredAcceleration, measuredAngularSpeed, fixedSpecificForce, fixedAngularSpeed);</span>
<span class="fc" id="L1182">    }</span>

    /**
     * Fixes provided measured body kinematics by undoing the errors introduced
     * by the accelerometer and gyroscope models to restore the true
     * body kinematics values.
     * This method uses last provided accelerometer and gyroscope bias and
     * cross coupling errors.
     *
     * @param measuredSpecificForce measured specific force to be fixed.
     * @param measuredAngularSpeed  measured angular speed to be fixed.
     * @param result                instance where fixed body kinematics will be
     *                              stored.
     * @throws AlgebraException if there are numerical instabilities.
     */
    public void fix(final AccelerationTriad measuredSpecificForce, final AngularSpeedTriad measuredAngularSpeed,
                    final BodyKinematics result) throws AlgebraException {
<span class="fc" id="L1199">        fix(measuredSpecificForce, measuredAngularSpeed, fixedAcceleration, fixedAngularSpeed);</span>

<span class="fc" id="L1201">        result.setSpecificForceTriad(fixedAcceleration);</span>
<span class="fc" id="L1202">        result.setAngularRateTriad(fixedAngularSpeed);</span>
<span class="fc" id="L1203">    }</span>

    /**
     * Fixes provided measured body kinematics by undoing the errors introduced
     * by the accelerometer and gyroscope models to restore the true body
     * kinematics values.
     * This method uses last provided accelerometer and gyroscope bias and
     * cross coupling errors.
     *
     * @param measuredKinematics measured body kinematics to be fixed.
     * @return restored true body kinematics.
     * @throws AlgebraException if there are numerical instabilities.
     */
    public BodyKinematics fixAndReturnNew(final BodyKinematics measuredKinematics) throws AlgebraException {
<span class="fc" id="L1217">        final var result = new BodyKinematics();</span>
<span class="fc" id="L1218">        fix(measuredKinematics, result);</span>
<span class="fc" id="L1219">        return result;</span>
    }

    /**
     * Fixes provided measured body kinematics by undoing the errors introduced
     * by the accelerometer and gyroscope models to restore the true body
     * kinematics values.
     * This method uses last provided accelerometer and gyroscope bias and
     * cross coupling errors.
     *
     * @param measuredSpecificForce measured specific force to be fixed.
     * @param measuredAngularSpeed  measured angular speed to be fixed.
     * @return restored true body kinematics.
     * @throws AlgebraException if there are numerical instabilities.
     */
    public BodyKinematics fixAndReturnNew(
            final AccelerationTriad measuredSpecificForce, final AngularSpeedTriad measuredAngularSpeed)
            throws AlgebraException {
<span class="fc" id="L1237">        final var result = new BodyKinematics();</span>
<span class="fc" id="L1238">        fix(measuredSpecificForce, measuredAngularSpeed, result);</span>
<span class="fc" id="L1239">        return result;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>